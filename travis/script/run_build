#!/bin/bash
set -e
source script/functions.sh

# Allow repos to override the default functions and add their own
if [ -f script/custom_build_functions.sh ]; then
  source script/custom_build_functions.sh
fi

fold "specs" run_specs_and_record_done
fold "cukes" run_cukes

if documentation_enforced; then
  fold "doc check" check_documentation_coverage
fi

if style_and_lint_enforced; then
  fold "rubocop" check_style_and_lint
fi

run_all_spec_suites
